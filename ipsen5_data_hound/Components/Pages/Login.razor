

@page "/"
@inject ipsen5_data_hound.Services.LoginService LoginService
@inject NavigationManager NavigationManager

<EditForm Model="@LoginService" OnValidSubmit="HandleValidSubmit" FormName="LoginForm">
    <div class="form-group">
        <label for="username">Username:</label>
        <InputText id="username" class="form-control" @bind-Value="LoginService.username" @bind="username" style="width: 240px;" />
    </div>
    <div class="form-group">
        <label for="password">Password:</label>
        <InputText id="password" type="password" class="form-control" @bind-Value="LoginService.password" @bind="password" style="width: 240px;"/>
    </div>
    <button type="submit" class="btn btn-primary">Login</button>
</EditForm>

@code {
    public string username { get; set; } = string.Empty;
    public string password { get; set; } = string.Empty;

    private void HandleValidSubmit()
    {
        
        if (LoginService.testName() && LoginService.testPass()) 
        {
            NavigationManager.NavigateTo("/home");
        }
        
        else
        {
            // show an error message if login is unsuccessful
        }
        NavigationManager.NavigateTo("/home");
    }
}